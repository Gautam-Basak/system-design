8. Parking Ticket and Rate (Strategy Pattern)
java

// ParkingTicket.java
import java.time.LocalDateTime;
import java.util.UUID;

public class ParkingTicket {
    private String ticketNumber;
    private LocalDateTime issuedAt;
    private LocalDateTime paidAt;
    private double amount;
    private ParkingTicketStatus status;
    private String vehicleLicenseNumber;
    private String spotNumber;
    
    public ParkingTicket() {
        this.ticketNumber = "TKT_" + UUID.randomUUID().toString().substring(0, 8).toUpperCase();
        this.issuedAt = LocalDateTime.now();
        this.status = ParkingTicketStatus.ACTIVE;
    }
    
    public void saveInDB() {
        // Implementation to save ticket in database
        System.out.println("Saving ticket " + ticketNumber + " in database");
    }
    
    public void updateInDB() {
        // Implementation to update ticket in database
        System.out.println("Updating ticket " + ticketNumber + " in database");
    }
    
    // Getters and setters
    public String getTicketNumber() { return ticketNumber; }
    public void setTicketNumber(String ticketNumber) { this.ticketNumber = ticketNumber; }
    public LocalDateTime getIssuedAt() { return issuedAt; }
    public void setIssuedAt(LocalDateTime issuedAt) { this.issuedAt = issuedAt; }
    public LocalDateTime getPaidAt() { return paidAt; }
    public void setPaidAt(LocalDateTime paidAt) { this.paidAt = paidAt; }
    public double getAmount() { return amount; }
    public void setAmount(double amount) { this.amount = amount; }
    public ParkingTicketStatus getStatus() { return status; }
    public void setStatus(ParkingTicketStatus status) { this.status = status; }
    public String getVehicleLicenseNumber() { return vehicleLicenseNumber; }
    public void setVehicleLicenseNumber(String vehicleLicenseNumber) { this.vehicleLicenseNumber = vehicleLicenseNumber; }
    public String getSpotNumber() { return spotNumber; }
    public void setSpotNumber(String spotNumber) { this.spotNumber = spotNumber; }
}

// ParkingRate.java
public class ParkingRate {
    private double hourlyRate;
    private double dailyRate;
    private double weeklyRate;
    
    public ParkingRate() {
        this.hourlyRate = 5.0;
        this.dailyRate = 50.0;
        this.weeklyRate = 250.0;
    }
    
    public double calculateCharges(LocalDateTime entryTime, LocalDateTime exitTime) {
        long hours = java.time.Duration.between(entryTime, exitTime).toHours();
        
        if (hours <= 1) {
            return hourlyRate;
        } else if (hours <= 24) {
            return Math.min(hourlyRate * hours, dailyRate);
        } else if (hours <= 168) { // 7 days
            long days = (hours + 23) / 24; // Ceiling division
            return Math.min(dailyRate * days, weeklyRate);
        } else {
            long weeks = (hours + 167) / 168; // Ceiling division
            return weeklyRate * weeks;
        }
    }
    
    // Getters and setters
    public double getHourlyRate() { return hourlyRate; }
    public void setHourlyRate(double hourlyRate) { this.hourlyRate = hourlyRate; }
    public double getDailyRate() { return dailyRate; }
    public void setDailyRate(double dailyRate) { this.dailyRate = dailyRate; }
    public double getWeeklyRate() { return weeklyRate; }
    public void setWeeklyRate(double weeklyRate) { this.weeklyRate = weeklyRate; }
}